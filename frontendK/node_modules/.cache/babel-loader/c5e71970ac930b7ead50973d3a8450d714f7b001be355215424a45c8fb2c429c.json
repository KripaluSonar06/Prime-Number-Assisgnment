{"ast":null,"code":"// src/api.js\nexport function streamFrom(url, {\n  onLine,\n  onError,\n  onDone,\n  signal\n} = {}) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const res = await fetch(url, {\n        signal\n      });\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      if (!res.body) throw new Error(\"Streaming not supported by this browser/response\");\n      const reader = res.body.getReader();\n      const decoder = new TextDecoder(\"utf-8\");\n      let buf = \"\";\n      while (true) {\n        const {\n          done,\n          value\n        } = await reader.read();\n        if (done) break;\n        buf += decoder.decode(value, {\n          stream: true\n        });\n        const parts = buf.split(\"\\n\");\n        buf = parts.pop(); // keep last partial line\n        for (const p of parts) {\n          const line = p.replace(/\\r$/, \"\");\n          if (line.length === 0) continue;\n          onLine === null || onLine === void 0 ? void 0 : onLine(line);\n        }\n      }\n      if (buf && buf.trim() !== \"\") onLine === null || onLine === void 0 ? void 0 : onLine(buf.replace(/\\r$/, \"\"));\n      onDone === null || onDone === void 0 ? void 0 : onDone();\n      resolve();\n    } catch (err) {\n      onError === null || onError === void 0 ? void 0 : onError(err);\n      reject(err);\n    }\n  });\n}","map":{"version":3,"names":["streamFrom","url","onLine","onError","onDone","signal","Promise","resolve","reject","res","fetch","ok","Error","status","body","reader","getReader","decoder","TextDecoder","buf","done","value","read","decode","stream","parts","split","pop","p","line","replace","length","trim","err"],"sources":["C:/Users/Taleem Hossain/Academics/IIT sem 3/Numerical Methods/Prime-Number-Assisgnment/k/frontend/src/api.js"],"sourcesContent":["// src/api.js\r\nexport function streamFrom(url, { onLine, onError, onDone, signal } = {}) {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const res = await fetch(url, { signal });\r\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n      if (!res.body) throw new Error(\"Streaming not supported by this browser/response\");\r\n\r\n      const reader = res.body.getReader();\r\n      const decoder = new TextDecoder(\"utf-8\");\r\n      let buf = \"\";\r\n\r\n      while (true) {\r\n        const { done, value } = await reader.read();\r\n        if (done) break;\r\n        buf += decoder.decode(value, { stream: true });\r\n        const parts = buf.split(\"\\n\");\r\n        buf = parts.pop(); // keep last partial line\r\n        for (const p of parts) {\r\n          const line = p.replace(/\\r$/, \"\");\r\n          if (line.length === 0) continue;\r\n          onLine?.(line);\r\n        }\r\n      }\r\n\r\n      if (buf && buf.trim() !== \"\") onLine?.(buf.replace(/\\r$/, \"\"));\r\n      onDone?.();\r\n      resolve();\r\n    } catch (err) {\r\n      onError?.(err);\r\n      reject(err);\r\n    }\r\n  });\r\n}\r\n"],"mappings":"AAAA;AACA,OAAO,SAASA,UAAUA,CAACC,GAAG,EAAE;EAAEC,MAAM;EAAEC,OAAO;EAAEC,MAAM;EAAEC;AAAO,CAAC,GAAG,CAAC,CAAC,EAAE;EACxE,OAAO,IAAIC,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;IAC5C,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACT,GAAG,EAAE;QAAEI;MAAO,CAAC,CAAC;MACxC,IAAI,CAACI,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,QAAQH,GAAG,CAACI,MAAM,EAAE,CAAC;MAClD,IAAI,CAACJ,GAAG,CAACK,IAAI,EAAE,MAAM,IAAIF,KAAK,CAAC,kDAAkD,CAAC;MAElF,MAAMG,MAAM,GAAGN,GAAG,CAACK,IAAI,CAACE,SAAS,CAAC,CAAC;MACnC,MAAMC,OAAO,GAAG,IAAIC,WAAW,CAAC,OAAO,CAAC;MACxC,IAAIC,GAAG,GAAG,EAAE;MAEZ,OAAO,IAAI,EAAE;QACX,MAAM;UAAEC,IAAI;UAAEC;QAAM,CAAC,GAAG,MAAMN,MAAM,CAACO,IAAI,CAAC,CAAC;QAC3C,IAAIF,IAAI,EAAE;QACVD,GAAG,IAAIF,OAAO,CAACM,MAAM,CAACF,KAAK,EAAE;UAAEG,MAAM,EAAE;QAAK,CAAC,CAAC;QAC9C,MAAMC,KAAK,GAAGN,GAAG,CAACO,KAAK,CAAC,IAAI,CAAC;QAC7BP,GAAG,GAAGM,KAAK,CAACE,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,KAAK,MAAMC,CAAC,IAAIH,KAAK,EAAE;UACrB,MAAMI,IAAI,GAAGD,CAAC,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;UACjC,IAAID,IAAI,CAACE,MAAM,KAAK,CAAC,EAAE;UACvB7B,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG2B,IAAI,CAAC;QAChB;MACF;MAEA,IAAIV,GAAG,IAAIA,GAAG,CAACa,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE9B,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAGiB,GAAG,CAACW,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;MAC9D1B,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG,CAAC;MACVG,OAAO,CAAC,CAAC;IACX,CAAC,CAAC,OAAO0B,GAAG,EAAE;MACZ9B,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG8B,GAAG,CAAC;MACdzB,MAAM,CAACyB,GAAG,CAAC;IACb;EACF,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}